"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{19982:function(t,e,i){var o,n,l=i(86854),r=i(15671),s=i(43144),a=i(97326),c=i(60136),u=i(20245),h=i(61120),d=i(27488),f=i(67294),v=i(45697),m=i.n(v),p=i(55772),x=i(21842),g=i(66403),b=i(64053),T=i(28771),k=i(21012);function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=(0,h.Z)(t);if(e){var n=(0,h.Z)(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return(0,u.Z)(this,i)}}var y=(0,d.default)("div",{target:"e10p67lm0"})("width:100%;box-sizing:border-box;position:relative;display:flex;align-items:center;touch-action:pan-y;-ms-touch-action:pan-y;padding-bottom:",(function(t){return t.showNavigation?"24px":"0px"}),";*{touch-action:pan-y;-ms-touch-action:pan-y;}button.navButton{width:24px;height:24px;box-sizing:content-box;padding:6px;padding-bottom:8px;padding-top:4px;position:absolute;cursor:pointer;",(0,T.cj)(0),";background-color:",g.ui.white,";border:none;border-radius:50%;&.nextButton{right:-18px;}&.prevButton{left:-18px;}&:focus{box-shadow:0 0 0px 2px ",g.ui.sky[300],";outline:none;}&:hover{background-color:",g.ui.grey[100],";}&:disabled{display:none;}}.navIcon{color:",g.ui.grey[500],";}.navigationContainer{min-width:100%;margin-left:-",(function(t){return t.fullWidthCard?0:24}),"px;text-align:center;flex-basis:100%;position:absolute;bottom:0px;div{width:10px;height:10px;box-sizing:border-box;border-radius:5px;display:inline-block;border:solid 1px ",g.ui.grey[300],";background-color:",g.ui.grey[100],";margin:4px;}div.active{border-color:transparent;background-color:",g.ui.grey[400],";}}",(null===p.device||void 0===p.device?void 0:p.device.hh)&&"\n        .nextButton, .prevButton {\n            display: none;\n        }\n    ",""),C=(0,d.default)("div",{target:"e10p67lm1"})("display:flex;align-items:center;overflow-x:",null!==p.device&&void 0!==p.device&&p.device.hh?"visible":"hidden",";&::-webkit-scrollbar{display:none;}"),R=(0,d.default)("div",{target:"e10p67lm2"})((function(t){return"\n        display: flex;\n        align-items: stretch;\n        flex-wrap: nowrap;\n        overflow: hidden;\n        transform: translateX(".concat("".concat(t.trackOffset,"px"),");\n        flex: 0 0 auto;\n        position: relative;\n        transition: transform ",t.scrollSpeed,"ms;\n    ")}),";"),I=(0,d.default)("div",{target:"e10p67lm3"})((function(t){return"\n        display: flex;\n        position: relative;\n        justify-content: center;\n        align-items: stretch;\n        margin-right: ".concat(t.fullWidthCard?0:16,"px;\n        width: ").concat(t.fullWidthCard?"".concat(t.carouselWidth,"px"):"inherit",";\n        &:last-child {\n            margin-right: 0px;\n        }\n    ")}),";"),w=function(t){(0,c.Z)(i,t);var e=S(i);function i(t){var o;return(0,r.Z)(this,i),(o=e.call(this,t)).state={trackOffset:0,currentIndex:0,carouselWidth:0,disableNextButton:!1,disablePrevButton:!0,autoScrollOn:!0,visibleAriaArray:[],numVisibleChildren:1},o.carouselRef=f.createRef(),o.trackRef=f.createRef(),o.itemRefs=[],o.handleClick=o.handleClick.bind((0,a.Z)(o)),o.handleKeyDown=o.handleKeyDown.bind((0,a.Z)(o)),o.checkCarouselControls=o.checkCarouselControls.bind((0,a.Z)(o)),o.setRef=o.setRef.bind((0,a.Z)(o)),o.setVisibleAriaArray=o.setVisibleAriaArray.bind((0,a.Z)(o)),o.setInitialState=o.setInitialState.bind((0,a.Z)(o)),o.adjustTrackPositionOnResize=o.adjustTrackPositionOnResize.bind((0,a.Z)(o)),o.calculateNewState=o.calculateNewState.bind((0,a.Z)(o)),o.resetCarousel=o.resetCarousel.bind((0,a.Z)(o)),o.scrollToIndex=o.scrollToIndex.bind((0,a.Z)(o)),o.externalScrollToIndex=o.externalScrollToIndex.bind((0,a.Z)(o)),o.autoScroll=o.autoScroll.bind((0,a.Z)(o)),o.handleTouchStart=o.handleTouchStart.bind((0,a.Z)(o)),o.handleTouchEnd=o.handleTouchEnd.bind((0,a.Z)(o)),o.handleTouchMove=o.handleTouchMove.bind((0,a.Z)(o)),o.handleTouchCancel=o.handleTouchCancel.bind((0,a.Z)(o)),o.clearAutoScroll=o.clearAutoScroll.bind((0,a.Z)(o)),o.debounceTrackPositionOnResize=(0,p.debounce)(o.adjustTrackPositionOnResize,300),o.updateTouchPositions=(0,p.debounce)(o.updateTouchPositions,20,!0),o}return(0,s.Z)(i,[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.props,e=t.intervalTime,i=t.scrollToIndexEvent;this.setInitialState(),e>0&&(this.autoScrollTimer&&clearTimeout(this.autoScrollTimer),this.autoScrollTimer=setTimeout(this.autoScroll,e)),i&&addEventListener(i,this.externalScrollToIndex)}},{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.fullWidthCard,o=e.intervalTime,n=e.children;t.fullWidthCard!==i&&this.resetCarousel(),o>0&&0===t.intervalTime?(this.autoScrollTimer&&clearTimeout(this.autoScrollTimer),this.autoScrollTimer=setTimeout(this.autoScroll,o)):o<=0&&this.autoScrollTimer&&clearTimeout(this.autoScrollTimer),t.children.length!==n.length&&this.checkCarouselControls()}},{key:"componentWillUnmount",value:function(){var t=this.props.scrollToIndexEvent;this.mounted=!1,this.autoScrollTimer&&clearTimeout(this.autoScrollTimer),removeEventListener("resize",this.debounceTrackPositionOnResize),t&&removeEventListener(t,this.externalScrollToIndex)}},{key:"setRef",value:function(t){this.itemRefs.push(t)}},{key:"setVisibleAriaArray",value:function(){var t=this.state.currentIndex,e=this.itemRefs.map((function(e,i){return i!==t}));this.setState({visibleAriaArray:e})}},{key:"calculateNewState",value:function(t){var e,i,o=this.props.fullWidthCard,n=(null===(e=this.carouselRef)||void 0===e||null===(i=e.current)||void 0===i?void 0:i.offsetWidth)||0;if(t||!o){var r,s,a=(null===(r=this.carouselRef)||void 0===r||null===(s=r.current)||void 0===s?void 0:s.offsetLeft)||0,c=this.itemRefs||[{}],u=(0,l.Z)(c,1)[0],h=null===u||void 0===u?void 0:u.offsetWidth;return{carouselWidth:n,numVisibleChildren:o||!h?1:Math.floor((n-2*a)/h)}}return{carouselWidth:n,trackOffset:0-this.state.currentIndex*n}}},{key:"setInitialState",value:function(){var t=this;this.setState(this.calculateNewState(!0),(function(){t.checkCarouselControls(),t.setVisibleAriaArray(),addEventListener("resize",t.debounceTrackPositionOnResize)}))}},{key:"resetCarousel",value:function(){var t=this,e=this.carouselRef.current;e&&this.setState({carouselWidth:e.offsetWidth,currentIndex:0,trackOffset:0},(function(){t.checkCarouselControls()}))}},{key:"adjustTrackPositionOnResize",value:function(){this.setState(this.calculateNewState())}},{key:"checkCarouselControls",value:function(){var t=this.state,e=t.currentIndex,i=t.numVisibleChildren,o=e>=this.itemRefs.length-i,n=0===e;this.setState({disableNextButton:o,disablePrevButton:n})}},{key:"handleClick",value:function(t){var e=this.props,i=e.onNextClick,o=e.onPreviousClick,n=this.state,l=n.currentIndex,r=n.numVisibleChildren;"next"===t.currentTarget.dataset.direction?(this.scrollToIndex(l+r),i()):"prev"===t.currentTarget.dataset.direction&&(this.scrollToIndex(l-r),o())}},{key:"handleKeyDown",value:function(t){var e=this.props,i=e.onNextClick,o=e.onPreviousClick,n=this.state,l=n.currentIndex,r=n.numVisibleChildren;t.keyCode===b.tW.LEFT&&(this.scrollToIndex(l-r),o(),this.clearAutoScroll()),t.keyCode===b.tW.RIGHT&&(this.scrollToIndex(l+r),i(),this.clearAutoScroll())}},{key:"scrollToIndex",value:function(t){var e=this,i=this.props,o=i.scrollSpeed,n=i.onChange,l=i.intervalTime,r=i.fullWidthCard;if(t<0||t>=this.itemRefs.length){var s=this.state,a=s.autoScrollOn,c=s.currentIndex;if(l>0&&a)return this.autoScrollTimer&&clearTimeout(this.autoScrollTimer),void(this.autoScrollTimer=setTimeout(this.autoScroll,l));if(!(t<0&&c>0))return;t=0}var u=this.itemRefs[t].offsetLeft;if(!r){var h,d,f,v,m=this.itemRefs.slice(t).reduce((function(t,e){return e.offsetWidth+t}),0)+16*(this.itemRefs.length-2);if(m<(null===(h=this.carouselRef)||void 0===h||null===(d=h.current)||void 0===d?void 0:d.offsetWidth))u-=(null===(f=this.carouselRef)||void 0===f||null===(v=f.current)||void 0===v?void 0:v.offsetWidth)-m}this.setState({currentIndex:t,trackOffset:0-u}),n(t),setTimeout((function(){var t=e.state.autoScrollOn;e.checkCarouselControls(),e.setVisibleAriaArray(),l>0&&t&&e.mounted&&(e.autoScrollTimer&&clearTimeout(e.autoScrollTimer),e.autoScrollTimer=setTimeout(e.autoScroll,l))}),o+50)}},{key:"updateTouchPositions",value:function(t,e,i){var o=this,n=this.props.onChange,l=this.state.currentIndex;this.setState({currentIndex:i,trackOffset:0-t},(function(){o.checkCarouselControls(),o.setVisibleAriaArray(),o.touchstartX&&(o.touchstartX=e)})),l!==i&&n(i)}},{key:"handleTouchStart",value:function(t){var e,i;this.touchstartX=null===t||void 0===t||null===(e=t.changedTouches)||void 0===e||null===(i=e[0])||void 0===i?void 0:i.screenX,this.clearAutoScroll()}},{key:"handleTouchMove",value:function(t){var e=this.props.fullWidthCard;if(this.touchstartX&&!e){var i,o,n,l,r,s,a=this.state.trackOffset,c=null===t||void 0===t||null===(i=t.changedTouches)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.screenX;if(Math.abs(this.touchstartX-c)<10)return;var u=this.touchstartX-(a+c),h=this.itemRefs[this.itemRefs.length-1].offsetLeft+this.itemRefs[this.itemRefs.length-1].offsetWidth+16;u=Math.max(0,u);for(var d=(u=Math.min(u,h-(null===(n=this.carouselRef)||void 0===n||null===(l=n.current)||void 0===l?void 0:l.offsetWidth)))+(null===(r=this.carouselRef)||void 0===r||null===(s=r.current)||void 0===s?void 0:s.offsetWidth),f=[],v=0;v<this.itemRefs.length;v+=1){var m=this.itemRefs[v].offsetLeft,p=m+this.itemRefs[v].offsetWidth;if(p>u&&m<d&&(f.push(v),p>d))break}var x=0;if(1===f.length)x=f[0];else if(2===f.length){var g,b,T=this.itemRefs[f[0]];x=T.offsetLeft+T.offsetWidth-u>(null===(g=this.carouselRef)||void 0===g||null===(b=g.current)||void 0===b?void 0:b.offsetWidth)/2?f[0]:f[1]}else f.length&&(x=f[1]);a!==0-u&&this.updateTouchPositions(u,c,x)}}},{key:"handleTouchEnd",value:function(t){var e=this,i=this.props.fullWidthCard;if(this.touchstartX&&this.carouselRef.current)if(i){var o,n,l=(null===t||void 0===t||null===(o=t.changedTouches)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.screenX)-this.touchstartX;if(Math.abs(l)>.1*this.carouselRef.current.clientWidth){var r=this.props,s=r.onNextClick,a=r.onPreviousClick,c=this.state.currentIndex;this.clearAutoScroll(),l<0?(this.scrollToIndex(c+1),this.clearAutoScroll(),s()):l>0&&(this.scrollToIndex(c-1),this.clearAutoScroll(),a())}}else{var u,h,d,f,v,m,p=this.props.onChange,x=this.state,g=x.currentIndex,b=x.trackOffset,T=this.touchstartX-(b+(null===t||void 0===t||null===(u=t.changedTouches)||void 0===u||null===(h=u[0])||void 0===h?void 0:h.screenX)),k=this.itemRefs[this.itemRefs.length-1].offsetLeft+this.itemRefs[this.itemRefs.length-1].offsetWidth+16;T=Math.max(0,T);for(var S=(T=Math.min(T,k-(null===(d=this.carouselRef)||void 0===d||null===(f=d.current)||void 0===f?void 0:f.offsetWidth)))+(null===(v=this.carouselRef)||void 0===v||null===(m=v.current)||void 0===m?void 0:m.offsetWidth),y=[],C=0;C<this.itemRefs.length;C+=1){var R=this.itemRefs[C].offsetLeft,I=R+this.itemRefs[C].offsetWidth;if(I>T&&R<S&&(y.push(C),I>S))break}var w=0;if(1===y.length)w=y[0];else if(2===y.length){var W,N,A=this.itemRefs[y[0]];w=A.offsetLeft+A.offsetWidth-T>(null===(W=this.carouselRef)||void 0===W||null===(N=W.current)||void 0===N?void 0:N.offsetWidth)/2?y[0]:y[1]}else y.length&&(w=y[1]);this.setState({currentIndex:w,trackOffset:0-T},(function(){e.checkCarouselControls(),e.setVisibleAriaArray()})),g!==w&&p(w)}this.touchstartX=null}},{key:"handleTouchCancel",value:function(){this.touchstartX=null}},{key:"externalScrollToIndex",value:function(t){var e=t.detail;"number"===typeof e&&(this.scrollToIndex(e),this.clearAutoScroll())}},{key:"autoScroll",value:function(){var t=this.state,e=t.currentIndex;t.autoScrollOn&&(e>=this.itemRefs.length-1?this.scrollToIndex(0):this.scrollToIndex(e+1))}},{key:"clearAutoScroll",value:function(){this.setState({autoScrollOn:!1}),this.autoScrollTimer&&clearTimeout(this.autoScrollTimer)}},{key:"render",value:function(){var t=this,e=this.props,i=e.children,l=e.className,r=e.scrollSpeed,s=e.name,a=e.fullWidthCard,c=e.showNavigation,u=e.minItemsForNavigation,h=e.maxItemsForNavigation,d=e.showButtons,f=e.navigationDotStyle,v=e.navigationActiveDotStyle,m=this.state,p=m.trackOffset,g=m.disableNextButton,b=m.disablePrevButton,T=m.visibleAriaArray,S=m.carouselWidth,w=m.currentIndex,W=i.length;return(0,k.jsx)(y,{className:"".concat(l," ").concat("gd-ui-carousel"),fullWidthCard:a,ref:this.carouselRef,"aria-label":s,"aria-live":"polite",role:"listbox",showNavigation:c&&W>=u&&W<=h,onClick:this.clearAutoScroll,onKeyDown:this.handleKeyDown,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,tabIndex:"0"},(0,k.jsx)(C,null,(0,k.jsx)(R,{scrollSpeed:r,ref:this.trackRef,trackOffset:p},i&&i.length?i.map((function(e,i){return(0,k.jsx)(I,{key:"card-".concat(i),fullWidthCard:a,carouselWidth:S,"aria-hidden":T[i],role:"option",ref:t.setRef},e)})):null)),d?[(0,k.jsx)("button",{className:"prevButton navButton","data-direction":"prev",onClick:this.handleClick,"aria-label":"Previous",type:"button",disabled:b,key:"0"},o||(o=(0,k.jsx)(x.Z,{className:"navIcon",alt:"prev-icon",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.64 18.3L10.22 12l6.42-6.3a1.26 1.26 0 000-1.78 1.3 1.3 0 00-1.83 0l-7.53 7.37a1 1 0 000 1.41l7.53 7.39a1.3 1.3 0 001.83 0 1.26 1.26 0 000-1.78z" fill="currentColor" fill-rule="evenodd"/></svg>'}))),(0,k.jsx)("button",{className:"nextButton navButton","data-direction":"next",onClick:this.handleClick,"aria-label":"Next",type:"button",disabled:g,key:"1"},n||(n=(0,k.jsx)(x.Z,{className:"navIcon",alt:"next-icon",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.72 11.29L9.19 3.9a1.3 1.3 0 00-1.83 0 1.26 1.26 0 000 1.78L13.78 12l-6.42 6.3a1.26 1.26 0 000 1.78 1.3 1.3 0 001.83 0l7.53-7.39a1 1 0 000-1.4z" fill="currentColor" fill-rule="evenodd"/></svg>'})))]:null,c&&W>=u&&W<=h?(0,k.jsx)("div",{className:"navigationContainer"},i&&i.length?i.map((function(t,e){return(0,k.jsx)("div",{key:"nav-".concat(e),className:e===w?"active":"",style:T[e]?f:v})})):null):null)}}]),i}(f.Component);e.Z=w,w.defaultProps={fullWidthCard:!1,scrollSpeed:500,className:"",name:"carousel",onNextClick:function(){},onPreviousClick:function(){},intervalTime:2e3,showNavigation:!0,minItemsForNavigation:2,maxItemsForNavigation:5,navigationDotStyle:{},navigationActiveDotStyle:{},onChange:function(){},showButtons:!0,scrollToIndexEvent:void 0},w.propTypes={children:m().node.isRequired,name:m().string,fullWidthCard:m().bool,scrollSpeed:m().number,className:m().string,onNextClick:m().func,onPreviousClick:m().func,intervalTime:m().number,showNavigation:m().bool,minItemsForNavigation:m().number,maxItemsForNavigation:m().number,navigationDotStyle:m().object,navigationActiveDotStyle:m().object,onChange:m().func,showButtons:m().bool,scrollToIndexEvent:m().string}}}]);
//# sourceMappingURL=ea2ab1e8-a0d25cf83cf33eb5.js.map